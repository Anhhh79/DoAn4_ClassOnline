
<div class="container mt-3">

    <!-- Header -->
    <div class="d-flex justify-content-between align-items-center mb-4">
        <a class="btn border-0" href="javascript:history.back()">
            <i class="bi bi-chevron-left me-1"></i> Quay lại
        </a>

        <!-- ô trống cân đối -->
        <div style="width: 100px;"></div>
    </div>

    <div class="row g-3">
        <!-- LEFT SIDEBAR -->
        <div class="col-md-4">
            <div class="p-3 rounded-4 shadow bg-white">

                <!-- Thông tin bài thi -->
                <div class="d-flex align-items-start mb-3">
                    <i class="bi bi-file-earmark-text fs-3 text-primary me-2"></i>
                    <div>
                        <strong>TracNghiem_C5.docx</strong>
                        <div class="text-muted small">Ngày tạo: 06/11/2025</div>
                        <div class="text-muted small">Người tạo: Quốc Bảo</div>
                        <div class="text-muted small">
                            <i class="bi bi-clipboard-check me-1"></i>
                            Số lượt làm: 0
                        </div>
                    </div>
                </div>

                <!-- Nút Copy Link + QR -->
                <div class="d-flex justify-content-between mb-3">
                    <button class="btn btn-light border rounded-3">
                        <i class="bi bi-link-45deg"></i> Copy Link
                    </button>
                    <button class="btn btn-light border rounded-3">
                        <i class="bi bi-qr-code"></i>
                    </button>
                </div>

                <!-- Menu -->
                <div class="border rounded-4 p-3 bg-body-tertiary">
                    <p class="text-muted fw-bold mb-3">Menu</p>

                    <!-- Nút mở modal -->
                    <div class="d-flex align-items-center mb-2" data-bs-toggle="modal" data-bs-target="#settingModal" style="cursor: pointer;">
                        <i class="bi bi-gear-wide-connected me-2"></i> Cài đặt
                    </div>

                    <div class="d-flex align-items-center mb-2" data-bs-toggle="modal" data-bs-target="#publishModal" style="cursor: pointer;">
                        <i class="bi bi-upload me-2"></i> Xuất bản
                    </div>
                    <div class="d-flex align-items-center mb-3" id="btnRecheck" style="cursor: pointer;">
                        <i class="bi bi-arrow-repeat me-2"></i> Chấm lại điểm
                    </div>

                    <div class="d-flex align-items-center text-danger" id="btnDeleteFile" style="cursor: pointer;">
                        <i class="bi bi-file-earmark-x me-2"></i> Xóa file
                    </div>

                </div>


                <div class="mt-3">
                    <div class="d-flex justify-content-between align-items-center mb-2">
                        <span class="text-muted">Giao cho</span>
                        <!-- Nút Sửa -->
                        <button type="button" class="btn btn-outline-primary btn-sm" data-bs-toggle="modal" data-bs-target="#editModal">
                            <i class="bi bi-pencil"></i> Sửa
                        </button>
                        
                    </div>
                    <div class="border rounded-4 p-2 text-center bg-body-tertiary">
                        Tất cả mọi người
                    </div>
                </div>

                <div class="mt-3">
                    <div class="d-flex justify-content-between align-items-center mb-2">
                        <span class="text-muted">Nội dung</span>
                        <div>
                            <a class="text-primary text-decoration-none small me-3">Sửa</a>
                            <!-- Nút Xem chi tiết -->
                            <a class="text-success text-decoration-none small" data-bs-toggle="modal" data-bs-target="#detailModal">
                                Xem chi tiết
                            </a>
                        </div>
                    </div>
                    <div class="border rounded-4 p-2 text-center bg-body-tertiary">
                        Trắc nghiệm 10 câu
                    </div>
                </div>
            </div>
        </div>

        <!-- RIGHT CONTENT -->
        <div class="col-md-8">
            <div class="p-4 shadow rounded-4 bg-white">

                <div class="d-flex justify-content-between align-items-center mb-3">
                    <h5 class="fw-bold mb-0">
                        Kết quả làm bài trắc nghiệm
                    </h5>
                    <div>
                        <button class="btn btn-outline-success btn-sm">
                            <i class="bi bi-arrow-clockwise me-1"></i> Xuất file
                        </button>
                        <button class="btn btn-outline-primary btn-sm">
                            <i class="bi bi-arrow-clockwise me-1"></i> Cập nhật
                        </button>
                    </div>
                </div>

                <div class="table-responsive" style="max-height:507px; overflow-y:auto;">
                    <table class="table table-hover align-middle mb-0">
                        <thead class="bg-light" style="position:sticky; top:0; z-index:10;">
                            <tr>
                                <th style="width:60px;">STT</th>
                                <th>Sinh viên</th>
                                <th style="width:80px;">Điểm</th>
                                <th style="width:110px;">Đúng / Sai</th>
                                <th style="width:120px;">Thời gian</th>
                                <th style="width:130px;">Trạng thái</th>
                            </tr>
                        </thead>
                        <tbody id="table-body">
                            <!-- Data mẫu sẽ được thêm bằng JS -->
                        </tbody>

                    </table>
                </div>

            </div>
        </div>

        <script>
            const students = [
                { name: "Nguyễn Văn A", score: 9.0, correct: 18, wrong: 20, time: "12:30", status: "Hoàn thành", img: "@Url.Content("~/assets/image/tải xuống.jpg")" },
                { name: "Trần Thị B", score: 7.5, correct: 15, wrong: 20, time: "15:10", status: "Hoàn thành", img: "@Url.Content("~/assets/image/tải xuống.jpg")" },
                { name: "Lê Văn C", score: 4.0, correct: 08, wrong: 20, time: "20:01", status: "Chưa hoàn thành", img: "@Url.Content("~/assets/image/tải xuống.jpg")" }
            ];

            const tableBody = document.getElementById("table-body");

            let index = 1;
            for (let i = 0; i < 60; i++) {
                const s = students[i % students.length];
                tableBody.innerHTML += `
                        <tr>
                            <td class="fw-semibold">${index++}</td>
                            <td>
                                <div class="d-flex align-items-center">
                                    <img src="${s.img}" class="rounded-circle me-3" width="40" height="40" alt="avatar">
                                    <span class="fw-semibold">${s.name}</span>
                                </div>
                            </td>
                            <td class="fw-bold ${s.score >= 8 ? "text-success" : s.score >= 5 ? "text-warning" : "text-danger"}">
                                ${s.score.toFixed(1)}
                            </td>
                            <td>${s.correct.toString().padStart(2, "0")} / ${s.wrong.toString().padStart(2, "0")}</td>

                            <td>${s.time}</td>
                            <td>
                                <span class="badge ${s.status === "Hoàn thành" ? "bg-success" : "bg-secondary"}">
                                    ${s.status}
                                </span>
                            </td>
                        </tr>
                    `;
            }
        </script>
        <!-- Modal Cài Đặt -->
        <div class="modal fade" id="settingModal" tabindex="-1" aria-labelledby="settingModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-lg modal-dialog-centered">
                <div class="modal-content rounded-4">
                    <div class="modal-header">
                        <h5 class="modal-title fw-bold" id="settingModalLabel">
                            <i class="bi bi-gear-wide-connected me-2"></i> Cài đặt bài thi
                        </h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                    </div>

                    <div class="modal-body">
                        <form class="row g-3">

                            <!-- Tên bài thi (mới thêm) -->
                            <div class="col-12">
                                <label class="fw-semibold">Tên bài thi:</label>
                                <input type="text" class="form-control" placeholder="Nhập tên bài thi">
                            </div>

                            <div class="col-12">
                                <label class="fw-semibold">Loại bài:</label>
                                <select class="form-select">
                                    <option>Bài tập</option>
                                    <option>Bài thi</option>
                                </select>
                            </div>

                            <div class="col-md-6">
                                <label class="fw-semibold">Thời gian làm bài:</label>
                                <input type="number" class="form-control" placeholder="Số phút">
                            </div>

                            <div class="col-md-6">
                                <label class="fw-semibold">Mật khẩu truy cập:</label>
                                <input type="text" class="form-control" placeholder="Không bắt buộc">
                            </div>

                            <div class="col-md-6">
                                <label class="fw-semibold">Thời gian giao đề:</label>
                                <input type="datetime-local" class="form-control">
                            </div>

                            <div class="col-md-6">
                                <label class="fw-semibold">Thời gian kết thúc:</label>
                                <input type="datetime-local" class="form-control">
                            </div>

                            <div class="col-12 d-flex align-items-center mt-2">
                                <input class="form-check-input me-2" type="checkbox" id="shuffleQuestions">
                                <label class="form-check-label fw-semibold" for="shuffleQuestions">
                                    Đảo câu hỏi
                                </label>
                            </div>

                            <div class="col-12 d-flex align-items-center mt-2">
                                <input class="form-check-input me-2" type="checkbox" id="showResult">
                                <label class="form-check-label fw-semibold" for="showResult">
                                    Cho xem kết quả khi thi xong
                                </label>
                            </div>

                        </form>
                    </div>

                    <div class="modal-footer">
                        <button type="button" class="btn btn-danger rounded-3" data-bs-dismiss="modal">Hủy</button>
                        <button type="button" class="btn btn-success rounded-3">Lưu cài đặt</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal Xuất Bản -->
        <div class="modal fade" id="publishModal" tabindex="-1" aria-labelledby="publishModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-md modal-dialog-centered">
                <div class="modal-content rounded-4">
                    <div class="modal-header">
                        <h5 class="modal-title fw-bold" id="publishModalLabel">
                            <i class="bi bi-upload me-2"></i> Xuất bản bài thi
                        </h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                    </div>

                    <div class="modal-body">
                        <form class="row g-3">

                            <!-- Số lượng câu hỏi -->
                            <div class="col-12">
                                <label class="fw-semibold">Số câu hỏi:</label>
                                <input type="number" class="form-control" id="questionCount" value="40" disabled>
                            </div>

                            <!-- Thời gian làm bài -->
                            <div class="col-12">
                                <label class="fw-semibold">Thời gian làm bài (phút):</label>
                                <input type="number" class="form-control" id="timeLimit" disabled value="45">
                            </div>

                            <!-- Điểm mỗi câu -->
                            <div class="col-12">
                                <label class="fw-semibold">Điểm mỗi câu:</label>
                                <input type="number" class="form-control" id="pointPerQuestion" disabled value="0.25">
                            </div>
                        </form>
                    </div>

                    <div class="modal-footer">
                        <button type="button" class="btn btn-danger rounded-3" data-bs-dismiss="modal">Hủy</button>
                        <button type="button" class="btn btn-success rounded-3">Xuất bản ngay</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal: Sửa -->
        <div class="modal fade" id="editModal" tabindex="-1" aria-labelledby="editModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-lg modal-dialog-centered">
                <div class="modal-content rounded-4 shadow">

                    <!-- Header -->
                    <div class="modal-header">
                        <h5 class="modal-title fw-bold" id="editModalLabel">Chỉnh sửa giao bài</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Đóng"></button>
                    </div>

                    <!-- Body -->
                    <div class="modal-body">

                        <div class="col-12">
                            <label class="form-label d-flex justify-content-between align-items-center mb-2">
                                <span>Giao cho</span>
                            </label>

                            <!-- HEADER -->
                            <div class="student-header mb-3">
                                <div class="d-flex justify-content-between align-items-center">
                                    <!-- Search -->
                                    <div class="input-group w-50">
                                        <span class="input-group-text"><i class="bi bi-search"></i></span>
                                        <input type="search" class="form-control form-control-sm"
                                               placeholder="Tìm theo tên học sinh...">
                                    </div>

                                    <!-- Check all -->
                                    <div class="form-check ms-2">
                                        <input class="form-check-input" type="checkbox" id="checkAllStudentsStatic">
                                        <label class="form-check-label small" for="checkAllStudentsStatic">
                                            Chọn tất cả
                                        </label>
                                    </div>
                                </div>
                            </div>

                            <!-- Danh sách có thể cuộn -->
                            <div class="student-list-container border rounded-3 p-2" style="max-height: 300px; overflow-y: auto;">

                                <!-- Item -->
                                <div class="student-item d-flex align-items-center gap-3 py-2 px-2 mb-1">
                                    <div style="width:40px; height:40px; border-radius:8px; overflow:hidden;">
                                        <img src="~/assets/image/tải xuống.jpg" alt="Avatar"
                                             style="width:100%; height:100%; object-fit:cover;">
                                    </div>
                                    <div class="flex-grow-1 fw-semibold">Nguyễn Văn A</div>
                                    <div class="form-check"><input class="form-check-input student-checkbox" type="checkbox" value="101"></div>
                                </div>

                                <div class="student-item d-flex align-items-center gap-3 py-2 px-2 mb-1">
                                    <div style="width:40px; height:40px; border-radius:8px; overflow:hidden;">
                                        <img src="~/assets/image/tải xuống.jpg" alt="Avatar"
                                             style="width:100%; height:100%; object-fit:cover;">
                                    </div>
                                    <div class="flex-grow-1 fw-semibold">Trần Thị B</div>
                                    <div class="form-check"><input class="form-check-input student-checkbox" type="checkbox" value="102"></div>
                                </div>

                                <div class="student-item d-flex align-items-center gap-3 py-2 px-2 mb-1">
                                    <div style="width:40px; height:40px; border-radius:8px; overflow:hidden;">
                                        <img src="~/assets/image/tải xuống.jpg" alt="Avatar"
                                             style="width:100%; height:100%; object-fit:cover;">
                                    </div>
                                    <div class="flex-grow-1 fw-semibold">Lê Văn C</div>
                                    <div class="form-check"><input class="form-check-input student-checkbox" type="checkbox" value="103"></div>
                                </div>

                                <div class="student-item d-flex align-items-center gap-3 py-2 px-2 mb-1">
                                    <div style="width:40px; height:40px; border-radius:8px; overflow:hidden;">
                                        <img src="~/assets/image/tải xuống.jpg" alt="Avatar"
                                             style="width:100%; height:100%; object-fit:cover;">
                                    </div>
                                    <div class="flex-grow-1 fw-semibold">Phạm Thị D</div>
                                    <div class="form-check"><input class="form-check-input student-checkbox" type="checkbox" value="104"></div>
                                </div>

                                <div class="student-item d-flex align-items-center gap-3 py-2 px-2 mb-1">
                                    <div style="width:40px; height:40px; border-radius:8px; overflow:hidden;">
                                        <img src="~/assets/image/tải xuống.jpg" alt="Avatar"
                                             style="width:100%; height:100%; object-fit:cover;">
                                    </div>
                                    <div class="flex-grow-1 fw-semibold">Hoàng Văn E</div>
                                    <div class="form-check"><input class="form-check-input student-checkbox" type="checkbox" value="105"></div>
                                </div>

                            </div>
                        </div>
                    </div>

                    <!-- Footer -->
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Đóng</button>
                        <button type="button" class="btn btn-primary">Lưu thay đổi</button>
                    </div>

                </div>
            </div>
        </div>

        <!-- Modal Xem chi tiết -->
        <div class="modal fade" id="detailModal" tabindex="-1" aria-labelledby="detailModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-lg modal-dialog-centered">
                <div class="modal-content rounded-4 shadow">
                    <div class="modal-header">
                        <h5 class="modal-title fw-bold">Chi tiết bài trắc nghiệm</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Đóng"></button>
                    </div>

                    <!-- Modal body có scroll -->
                    <div class="modal-body bg-white" style="max-height: 75vh; overflow-y: auto;">

                        <!-- Câu hỏi 1 -->
                        <div class="mb-4">
                            <div class="fw-bold">Câu 1 <span class="text-muted small">ID: 43777953</span></div>
                            <div class="fw-semibold mt-1 mb-2">Shell là gì trong Linux?</div>
                            <div>A. Một chương trình thuộc kernel</div>
                            <div>B. Một loại trình duyệt</div>
                            <div>C. Một bộ thông dịch lệnh (Đáp án đúng)</div>
                            <div>D. Một phần mềm đồ họa</div>
                            <div class="text-success mt-2 fw-semibold">Đáp án: C</div>
                            <hr>
                        </div>

                        <!-- Câu hỏi 2 -->
                        <div class="mb-4">
                            <div class="fw-bold">Câu 2 <span class="text-muted small">ID: 43777954</span></div>
                            <div class="fw-semibold mt-1 mb-2">Lệnh nào dùng để xem shell hiện tại đang dùng?</div>
                            <div>A. cat /etc/shells</div>
                            <div>B. echo $SHELL (Đáp án đúng)</div>
                            <div>C. whoami</div>
                            <div>D. pwd</div>
                            <div class="text-success mt-2 fw-semibold">Đáp án: B</div>
                            <hr>
                        </div>

                        <!-- Câu hỏi 2 -->
                        <div class="mb-4">
                            <div class="fw-bold">Câu 2 <span class="text-muted small">ID: 43777954</span></div>
                            <div class="fw-semibold mt-1 mb-2">Lệnh nào dùng để xem shell hiện tại đang dùng?</div>
                            <div>A. cat /etc/shells</div>
                            <div>B. echo $SHELL (Đáp án đúng)</div>
                            <div>C. whoami</div>
                            <div>D. pwd</div>
                            <div class="text-success mt-2 fw-semibold">Đáp án: B</div>
                            <hr>
                        </div>

                        <!-- Câu hỏi 2 -->
                        <div class="mb-4">
                            <div class="fw-bold">Câu 2 <span class="text-muted small">ID: 43777954</span></div>
                            <div class="fw-semibold mt-1 mb-2">Lệnh nào dùng để xem shell hiện tại đang dùng?</div>
                            <div>A. cat /etc/shells</div>
                            <div>B. echo $SHELL (Đáp án đúng)</div>
                            <div>C. whoami</div>
                            <div>D. pwd</div>
                            <div class="text-success mt-2 fw-semibold">Đáp án: B</div>
                            <hr>
                        </div>

                        <!-- Câu hỏi 2 -->
                        <div class="mb-4">
                            <div class="fw-bold">Câu 2 <span class="text-muted small">ID: 43777954</span></div>
                            <div class="fw-semibold mt-1 mb-2">Lệnh nào dùng để xem shell hiện tại đang dùng?</div>
                            <div>A. cat /etc/shells</div>
                            <div>B. echo $SHELL (Đáp án đúng)</div>
                            <div>C. whoami</div>
                            <div>D. pwd</div>
                            <div class="text-success mt-2 fw-semibold">Đáp án: B</div>
                            <hr>
                        </div>

                        <!-- Thêm nhiều câu hỏi tại đây -->
                        <!-- ... -->

                    </div>

                    <div class="modal-footer bg-light">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Đóng</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
