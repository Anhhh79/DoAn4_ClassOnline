@model DoAn4_ClassOnline.Models.KhoaHoc

<div class="container">

    <!-- Header -->
    <div class="d-flex justify-content-between align-items-center mb-4">
        <a class="btn border-0" asp-controller="QuanLyKhoaHoc" asp-action="Index">
            <i class="bi bi-chevron-left"></i> Quay lại
        </a>

        <div class="text-center flex-grow-1">
            <h3 class="fw-bold mb-0">@Model.TenKhoaHoc</h3>
        </div>

        <div style="width:108px;"></div>
    </div>

    <div class="row g-3">

        <!-- LEFT: THÔNG TIN KHÓA HỌC -->
        <div class="col-md-4">
            <div class="p-3 rounded-4 shadow bg-white h-100">
                <h6 class="fw-bold mb-3">
                    <i class="bi bi-journal-bookmark text-primary me-2"></i> Thông tin khóa học
                </h6>

                <form class="row g-3">

                    <div class="col-12">
                        <label class="fw-semibold">Tên khóa học</label>
                        <input type="text" class="form-control" value="@Model.TenKhoaHoc">
                    </div>

                    <div class="col-12">
                        <label class="fw-semibold">Khoa</label>
                        <select class="form-select">
                            <option selected disabled value="@Model.Khoa.KhoaId">@Model.Khoa.TenKhoa</option>
                            @foreach (var hk in ViewBag.KhoaList)
                            {
                                <option value="@hk.KhoaId">
                                    @hk.TenKhoa
                                </option>
                            }
                        </select>
                    </div>

                    <div class="col-12">
                        <label class="fw-semibold">Học kỳ</label>
                        <select class="form-select">
                            <option selected disabled value="@Model.HocKyId">@Model.HocKy.TenHocKy / @Model.HocKy.NamHoc</option>
                            @foreach (var hk in ViewBag.HocKyList)
                            {
                                <option value="@hk.HocKyId">
                                    @hk.Ten
                                </option>
                            }
                        </select>
                    </div>

                    <div class="col-12">
                        <label class="fw-semibold">Link google meet</label>
                        <input type="text" class="form-control" value="@(Model.LinkHocOnline ?? "")" />

                    </div>

                    <div class="col-12">
                        <label class="fw-semibold">Mật khẩu truy cập (không bắt buộc)</label>
                        <div class="input-group">
                            <input type="password" class="form-control" value="@(Model.MatKhau ?? "")">
                            <button class="btn btn-secondary" type="button" title="Hiện/ẩn mật khẩu">
                                <i class="bi bi-eye"></i>
                            </button>
                        </div>
                    </div>

                    <div class="col-12">
                        <label class="fw-semibold">Hình ảnh khóa học</label>
                        <input type="file" accept="image/*" class="form-control">
                    </div>

                    <div class="col-12">
                        <div class="border rounded-4 p-2 text-center" style="max-height:200px; overflow:hidden;">
                            <img src="@Model.HinhAnh"
                                 class="rounded-3"
                                 style="max-width:100%; height:150px; object-fit:cover;">
                        </div>
                    </div>

                    <div class="col-12 d-flex justify-content-between mt-3">
                        <button type="button" class="btn btn-danger rounded-3">Xóa khóa học</button>
                        <button type="reset" class="btn btn-secondary rounded-3 text-light">Đặt lại</button>
                        <button type="submit" class="btn btn-success rounded-3">Lưu thay đổi</button>
                    </div>

                </form>
            </div>
        </div>

        <!-- RIGHT: DANH SÁCH SINH VIÊN -->
        <div class="col-md-8">
            <div class="p-4 shadow rounded-4 bg-white h-100 d-flex flex-column">

                <div class="d-flex justify-content-between align-items-center mb-3">
                    <h5 class="fw-bold mb-0">
                        <i class="bi bi-people text-primary me-2"></i> Danh sách sinh viên
                    </h5>

                    <div class="d-flex gap-2">

                        <!-- ✅ ICON TÌM KIẾM TRONG INPUT -->
                        <div class="input-group input-group-sm" style="width:260px;">
                            <span class="input-group-text bg-white">
                                <i class="bi bi-search"></i>
                            </span>
                            <input class="form-control" placeholder="Tìm theo tên hoặc mã...">
                        </div>

                        <button class="btn btn-outline-success btn-sm">
                            <i class="bi bi-download"></i> Xuất file
                        </button>

                    </div>
                </div>

                <div class="table-responsive" style="max-height:580px; overflow:auto;">
                    <table class="table table-hover align-middle mb-0">
                        <thead class="bg-light" style="position:sticky; top:0; z-index:10;">
                            <tr>
                                <th style="width:60px;">STT</th>
                                <th>Sinh viên</th>                           
                                <th style="width:120px;">MSSV</th>
                                <th style="width:120px;">Giới tính</th>
                                <th style="width:120px;">Truy cập</th>
                                <th style="width:120px;">Hành động</th>
                            </tr>
                        </thead>

                        <tbody>
                            <tr>
                                <td>1</td>
                                <td>
                                    <div class="d-flex align-items-center">
                                        <img src="~/assets/image/tải xuống.jpg"
                                             class="rounded-circle me-3"
                                             style="width:45px; height:45px; object-fit:cover;">
                                        <div class="fw-semibold" style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 200px;">Nguyễn Văn A</div>
                                    </div>
                                </td>                              
                                <td class="fw-semibold">B2012001</td>
                                <td class="fw-semibold"> Nam</td>
                                <td>2 ngày trước</td>
                                <td class="text-center">
                                    <button class="btn btn-outline-secondary btn-sm" title="Xem hồ sơ"
                                            data-bs-toggle="modal"
                                            data-bs-target="#studentInfoModal_QuanLy">
                                        <i class="bi bi-eye"></i>
                                    </button>
                                    <button class="btn btn-outline-danger btn-sm" title="Xóa khỏi khóa học">
                                        <i class="bi bi-person-x"></i>
                                    </button>
                                </td>
                            </tr>
                        </tbody>

                    </table>
                </div>

            </div>
        </div>
    </div>
</div>

<!-- ✅ MODAL -->
<div class="modal fade" id="studentInfoModal_QuanLy" tabindex="-1">
    <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content border-0 shadow">

            <div class="modal-header">
                <h5 class="modal-title">Thông tin sinh viên</h5>
                <button class="btn-close" data-bs-dismiss="modal"></button>
            </div>

            <div class="modal-body p-4">
                <div class="row g-3">

                    <div class="col-md-4 text-center">
                        <img src="~/assets/image/tải xuống.jpg"
                             class="rounded-circle border shadow-sm mb-3"
                             style="width:140px;height:140px;object-fit:cover;">

                        <h5 class="fw-bold" style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 200px;">Nguyễn Văn A</h5>
                        <small class="text-muted d-block">CNTT2211026</small>
                    </div>

                    <div class="col-md-8">
                        <dl class="row mb-0">
                            <dt class="col-sm-4">Giới tính</dt>
                            <dd class="col-sm-8">Nam</dd>

                            <dt class="col-sm-4">Ngày sinh</dt>
                            <dd class="col-sm-8">01/01/2003</dd>

                            <dt class="col-sm-4">Email</dt>
                            <dd class="col-sm-8">vana@example.com</dd>

                            <dt class="col-sm-4">Số điện thoại</dt>
                            <dd class="col-sm-8">0123 456 789</dd>

                            <dt class="col-sm-4">Khoa</dt>
                            <dd class="col-sm-8">Công nghệ thông tin</dd>

                            <dt class="col-sm-4">Khóa</dt>
                            <dd class="col-sm-8">K17</dd>
                        </dl>
                    </div>

                </div>
            </div>

        </div>
    </div>
</div>
